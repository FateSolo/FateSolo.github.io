<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Fate Solo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Fate&apos;s Home">
<meta property="og:type" content="website">
<meta property="og:title" content="Fate Solo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Fate Solo">
<meta property="og:description" content="Fate&apos;s Home">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Fate Solo">
<meta name="twitter:description" content="Fate&apos;s Home">
  
    <link rel="alternate" href="/atom.xml" title="Fate Solo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Fate Solo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Fate&#39;s Home</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Five-Chess-Client" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/02/06/Five-Chess-Client/" class="article-date">
  <time datetime="2016-02-06T06:25:48.000Z" itemprop="datePublished">2016-02-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/06/Five-Chess-Client/">网络智能五子棋博弈系统的客户端说明</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>大学生创新项目：网络智能五子棋博弈系统的研究与实现</p>
<p>项目说明：实现了C/S架构的五子棋游戏，支持双人对弈、人机对弈等功能</p>
<p>服务器端代码开源：<a href="https://github.com/FateSolo/FiveChessServer" target="_blank" rel="external">https://github.com/FateSolo/FiveChessServer</a></p>
<p>客户端代码开源：<a href="https://github.com/FateSolo/FiveChessClient" target="_blank" rel="external">https://github.com/FateSolo/FiveChessClient</a></p>
<p>本篇文章是对客户端程序的简要说明。</p>
<h3 id="1-__u9879_u76EE_u5F00_u53D1_u73AF_u5883_uFF1A"><a href="#1-__u9879_u76EE_u5F00_u53D1_u73AF_u5883_uFF1A" class="headerlink" title="1. 项目开发环境："></a>1. 项目开发环境：</h3><ul>
<li>Windows 8.1</li>
<li>Visual Studio 2013</li>
<li>Qt Creator 3.3.0</li>
</ul>
<h3 id="2-__u603B_u4F53_u8BF4_u660E_uFF1A"><a href="#2-__u603B_u4F53_u8BF4_u660E_uFF1A" class="headerlink" title="2. 总体说明："></a>2. 总体说明：</h3><ul>
<li><p>主要使用C++实现客户端逻辑功能</p>
</li>
<li><p>应用了Qt框架完成对图形界面、网络功能的编写</p>
</li>
</ul>
<h3 id="3-__u8FD0_u884C_u73AF_u5883_u90E8_u7F72_uFF1A"><a href="#3-__u8FD0_u884C_u73AF_u5883_u90E8_u7F72_uFF1A" class="headerlink" title="3. 运行环境部署："></a>3. 运行环境部署：</h3><p>这里以Windows 8.1为例</p>
<p>1、请确保系统中已经安装了Visual Studio或者MinGW</p>
<p>2、前往<a href="http://www.qt.io/download-open-source/#section-2下载对应的Qt" target="_blank" rel="external">http://www.qt.io/download-open-source/#section-2下载对应的Qt</a></p>
<p>3、安装Github客户端（如果可以从其他地方获取到源文件，例如大创光盘，那么请忽略第3、4步）</p>
<p>4、使用Github客户端克隆FiveChessClient(请先将github.com/FateSolo下的FiveChessClient项目Fork到你自己的账号)，<br>或者使用Git Bash克隆(注意将name替换成你的用户名)</p>
<pre><code>$ git clone git@github.com:name/FiveChessClient.git
</code></pre><p>5、打开Qt Creator，导入FiveChessClient，运行</p>
<p>6、在FiveChessClient的父目录中找到构建后的文件夹，进去拷贝出FiveChessClient.exe，存放到单独的文件夹中，这里命名为FiveChess</p>
<p>7、从FiveChessClient文件夹中将config.ini和music文件夹拷贝到FiveChess文件夹中</p>
<p>8、前往Qt的安装目录 Qt\Qt5.4.0\5.4\msvc2013_64\bin，拷贝出icudt53.dll、icuin53.dll、icuuc53.dll、Qt5Core.dll、Qt5Gui.dll、Qt5Multimedia.dll、Qt5Network.dll、Qt5Widgets.dll到FiveChess中</p>
<p>9、前往Qt\Qt5.4.0\5.4\msvc2013_64\plugins，拷贝出imageformats、mediaservice、platforms文件夹到FiveChess中</p>
<p>10、上网下载或从本地找到msvcp120.dll、msvcr120.dll拷贝至FiveChess中</p>
<p>11、打开FiveChess文件夹中的config.ini文件，修改ip为你刚才部署的服务器的ip地址</p>
<p>12、运行FiveChessClient.exe即可</p>
<hr>
<p>作者 [@FateSolo]<br>2016 年 2月 6日</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/02/06/Five-Chess-Client/" data-id="cikauoc9y0000hblauvbxto8d" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Five-Chess-Server" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/02/06/Five-Chess-Server/" class="article-date">
  <time datetime="2016-02-06T06:25:39.000Z" itemprop="datePublished">2016-02-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/06/Five-Chess-Server/">网络智能五子棋博弈系统的服务器端说明</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>大学生创新项目：网络智能五子棋博弈系统的研究与实现</p>
<p>项目说明：实现了C/S架构的五子棋游戏，支持双人对弈、人机对弈等功能</p>
<p>服务器端代码开源：<a href="https://github.com/FateSolo/FiveChessServer" target="_blank" rel="external">https://github.com/FateSolo/FiveChessServer</a></p>
<p>客户端代码开源：<a href="https://github.com/FateSolo/FiveChessClient" target="_blank" rel="external">https://github.com/FateSolo/FiveChessClient</a></p>
<p>本篇文章是对服务器端程序的简要说明。</p>
<h3 id="1-__u9879_u76EE_u5F00_u53D1_u73AF_u5883_uFF1A"><a href="#1-__u9879_u76EE_u5F00_u53D1_u73AF_u5883_uFF1A" class="headerlink" title="1. 项目开发环境："></a>1. 项目开发环境：</h3><ul>
<li>Ubuntu 14.04.3</li>
<li>Pycharm 5.0.3</li>
<li>Python 2.7.6</li>
<li>G++ 4.8.4</li>
<li>MySQL 5.5</li>
</ul>
<h3 id="2-__u603B_u4F53_u8BF4_u660E_uFF1A"><a href="#2-__u603B_u4F53_u8BF4_u660E_uFF1A" class="headerlink" title="2. 总体说明："></a>2. 总体说明：</h3><ul>
<li><p>主要使用Python实现后台逻辑功能</p>
</li>
<li><p>应用了基于事件驱动的Twisted作为服务器框架</p>
</li>
<li><p>与五子棋AI相关的模块则使用C++编写，由G++编译成动态链接库(.so)，Python使用ctypes调用动态库内的函数</p>
</li>
<li><p>使用MySQLdb完成对MySQL数据库的操作</p>
</li>
</ul>
<h3 id="3-__u4E94_u5B50_u68CBAI_u76F8_u5173_u6A21_u5757_u8BF4_u660E_uFF1A"><a href="#3-__u4E94_u5B50_u68CBAI_u76F8_u5173_u6A21_u5757_u8BF4_u660E_uFF1A" class="headerlink" title="3. 五子棋AI相关模块说明："></a>3. 五子棋AI相关模块说明：</h3><ul>
<li><p>核心AI：FiveChessAI.so (负极大值算法 + AlphaBeta剪枝 + 历史启发 + 置换表 + 限制搜索边框)</p>
</li>
<li><p>判断胜负：FiveChessRule.so</p>
</li>
<li><p>连五威胁评判：ThreatJudgement.so</p>
</li>
<li><p>具体源码存放在 FiveChessAI/ 文件夹内</p>
</li>
</ul>
<h3 id="4-__u8FD0_u884C_u73AF_u5883_u90E8_u7F72_uFF1A"><a href="#4-__u8FD0_u884C_u73AF_u5883_u90E8_u7F72_uFF1A" class="headerlink" title="4. 运行环境部署："></a>4. 运行环境部署：</h3><p>这里以Ubuntu Server 14.04为例</p>
<p>1、首先使用浏览器登录你自己的Github账号，将github.com/FateSolo下的FiveChessServer项目Fork到你自己的账号下(如果可以从其他地方获取到源文件，例如大创光盘，那么请直接从第8步开始)</p>
<p>2、在Ubuntu的终端下安装git</p>
<pre><code>$ sudo apt-get install git
</code></pre><p>3、配置你的git</p>
<pre><code>$ git config --global user.name &quot;在这里填写你的用户名&quot;
$ git config --global user.email &quot;在这里填写你的邮箱&quot;
</code></pre><p>4、在Ubuntu的终端下安装ssh</p>
<pre><code>$ sudo apt-get install ssh
</code></pre><p>5、生成密钥</p>
<pre><code>$ ssh-keygen -t rsa -C &quot;你的邮箱&quot;
</code></pre><p>6、找到当前路径下的隐藏文件.ssh，复制id_rsa.pub文件中的内容，到Github网页上进入Settings，找到SSH Keys将复制的密钥加入</p>
<p>7、成功后可以从你的Github中克隆项目到本地了(注意将name替换成你的用户名)</p>
<pre><code>$ git clone git@github.com:name/FiveChessServer.git
</code></pre><p>8、安装setuptools</p>
<pre><code>$ wget &quot;https://pypi.python.org/packages/source/s/setuptools/setuptools-12.0.3.tar.gz#md5=f07e4b0f4c1c9368fcd980d888b29a65&quot; --no-check-certificate
$ tar -zxvf setuptools-12.0.3.tar.gz
$ cd setuptools=12.0.3
$ sudo python setup.py install
</code></pre><p>9、安装pip</p>
<pre><code>$ wget &quot;https://pypi.python.org/packages/source/p/pip/pip-1.5.4.tar.gz#md5=834b2904f92d46aaa333267fb1c922bb&quot; --no-check-certificate
$ tar -xzvf pip-1.5.4.tar.gz
$ cd pip-1.5.4
$ sudo python setup.py install
</code></pre><p>10、安装MySQL</p>
<pre><code>$ sudo apt-get install mysql-client mysql-server
</code></pre><p>11、建数据库、表</p>
<pre><code>$ mysql -u root -p
mysql&gt; CREATE SCHEMA `FiveChess` DEFAULT CHARACTER SET utf8 ;
mysql&gt; CREATE TABLE `FiveChess`.`User` (`UserName` VARCHAR(10) NOT NULL,`PassWord` VARCHAR(10) NOT NULL,`NickName` VARCHAR(20) NOT NULL,`Win` INT NULL DEFAULT 0,`Lose` INT NULL DEFAULT 0,`Draw` INT NULL DEFAULT 0,PRIMARY KEY (`UserName`));
</code></pre><p>12、安装环境依赖</p>
<pre><code>$ sudo apt-get update
$ sudo apt-get install gcc libmysqlclient-dev python-dev
</code></pre><p>13、安装MySQLdb模块</p>
<pre><code>$ sudo pip install MySQL-Python
</code></pre><p>14、安装Twisted</p>
<pre><code>$ sudo pip install twisted
</code></pre><p>15、以守护进程方式运行FiveChessServer.py</p>
<pre><code>$ cd FiveChessServer
$ sudo twistd -y FiveChessServer.py
</code></pre><p>16、验证是否成功运行(查看是否拥有名为twistd的进程)</p>
<pre><code>$ ps -e
</code></pre><hr>
<p>作者 [@FateSolo]<br>2016 年 2月 6日</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/02/06/Five-Chess-Server/" data-id="cikauocas0003hblax2lowhib" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-My-Gradle-Test" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/28/My-Gradle-Test/" class="article-date">
  <time datetime="2015-12-28T04:06:52.000Z" itemprop="datePublished">2015-12-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/28/My-Gradle-Test/">使用Intellij IDEA + Gradle构建SSM框架</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>SSM(SpringMVC + Spring + Mybatis)框架是继经典的SSH框架之后的又一有力组合，在这里我将从零搭建一个SSM框架以做示范。</p>
<h3 id="u9879_u76EE_u73AF_u5883_uFF1A"><a href="#u9879_u76EE_u73AF_u5883_uFF1A" class="headerlink" title="项目环境："></a>项目环境：</h3><ul>
<li>Ubuntu 14.04.3</li>
<li>Intellij IDEA 15.0.2</li>
</ul>
<h3 id="1-__u521B_u5EFA_u9879_u76EE_uFF1A"><a href="#1-__u521B_u5EFA_u9879_u76EE_uFF1A" class="headerlink" title="1. 创建项目："></a>1. 创建项目：</h3><p>1) 打开IDEA，点击Create New Project，在左侧边栏找到Gradle，并勾选Java和Web，如图：<br><img src="/images/1.png" alt="1"><br>这里使用了Gradle来构建项目。Gradle作为项目自动构建工具，可以轻松的进行依赖管理，而且相比起Maven的xml配置方式，Gradle使用了更为简洁的Groovy语言配置方式。</p>
<p>2) 点击Next后，GroupId可以填写为包名，这里我写为com.fatesolo；ArtifactId可以填写为项目名，这里我写为SSM-Test；Version不需要变动。</p>
<p>3) 点击Next后，勾选Use auto-import和Create directories for…，Gradle使用第一种推荐的方式即可。</p>
<p>4) 点击Next后，直接Finish即完成了项目的创建。</p>
<h3 id="2-__u57FA_u7840_u914D_u7F6E"><a href="#2-__u57FA_u7840_u914D_u7F6E" class="headerlink" title="2. 基础配置"></a>2. 基础配置</h3><p>1) 点击File -&gt; Project Structure，选择Modules，在SSM-Test下选择Web Gradle…，如图：<br><img src="/images/2.png" alt="2"></p>
<p>2) 点击Deployment Descriptors栏右侧的绿色加号，点击web.xml，在弹出的对话框中，在SSM-Test与WEB-INF路径之间添加src/main/webapp/，点击确定即完成了web.xml的创建。</p>
<p>3) 在src/main/java中创建com.fatesolo，并创建controller(控制器层), service(业务逻辑层), mapper(数据访问层，命名为mapper是因为使用了Mybatis框架，该层不再实现具体逻辑，而是只写为接口形式供xml文件映射), model(模型层)四个子包。</p>
<p>4) 在src/main/resources中创建mapper文件夹，该文件夹主要存放实现数据访问层具体逻辑的xml文件，一般一个xml对应一个mapper子包中的接口。至此，基础配置完成，项目目录结构如图所示：<br><img src="/images/3.png" alt="3"></p>
<h3 id="3-__u7F16_u5199web-xml"><a href="#3-__u7F16_u5199web-xml" class="headerlink" title="3. 编写web.xml"></a>3. 编写web.xml</h3><p>1) 打开web.xml，编写如下配置：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">web-app</span> <span class="attribute">xmlns</span>=<span class="value">"http://java.sun.com/xml/ns/javaee"</span></span><br><span class="line">         <span class="attribute">xmlns:xsi</span>=<span class="value">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">         <span class="attribute">xsi:schemaLocation</span>=<span class="value">"http://java.sun.com/xml/ns/javaee</span><br><span class="line">		  http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"</span></span><br><span class="line">         <span class="attribute">version</span>=<span class="value">"3.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="title">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">param-value</span>&gt;</span>classpath:spring-common.xml<span class="tag">&lt;/<span class="title">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">context-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="title">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="title">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="title">servlet-class</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="title">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">param-value</span>&gt;</span>classpath:spring-mvc.xml<span class="tag">&lt;/<span class="title">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">init-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="title">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">servlet-name</span>&gt;</span>springMVC<span class="tag">&lt;/<span class="title">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="title">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="title">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="title">filter-class</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="title">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="title">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">init-param</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="title">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">param-name</span>&gt;</span>forceEncoding<span class="tag">&lt;/<span class="title">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="title">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">filter-name</span>&gt;</span>encodingFilter<span class="tag">&lt;/<span class="title">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="title">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">filter-mapping</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="title">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>2) 编写中会发现存在找不到class的情况，这是因为尚未导入相关包的缘故。因为使用了Gradle作为项目构建工具，因此可以通过Gradle方便的导入相关包。打开build.gradle文件，注意此时需要联网。</p>
<p>3) 在dependencies中，加入如下两句话：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#39;org.springframework:spring-web:4.2.4.RELEASE&#39;&#10;compile &#39;org.springframework:spring-webmvc:4.2.4.RELEASE&#39;</span><br></pre></td></tr></table></figure></p>
<p>等待Gradle自动构建完成后，可以看到相关class已经可以找到。</p>
<h3 id="4-__u7F16_u5199_u76F8_u5173_u914D_u7F6E_u6587_u4EF6"><a href="#4-__u7F16_u5199_u76F8_u5173_u914D_u7F6E_u6587_u4EF6" class="headerlink" title="4. 编写相关配置文件"></a>4. 编写相关配置文件</h3><p>1) 在web.xml中，可以发现找不到spring-common.xml和spring-mvc.xml，它们分别是Spring和SpringMVC的配置文件。在src/main/resources中新建并命名这两个文件。</p>
<p>2) 在编写这两个配置文件之前，首先创建并编写jdbc.properties文件，代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jdbc.driverClassName=com.mysql.jdbc.Driver&#10;jdbc.url=jdbc:mysql://localhost:3306/TestDB&#10;jdbc.username=root&#10;jdbc.password=123456</span><br></pre></td></tr></table></figure></p>
<p>注意数据库名、用户名和密码都更改成你自己的。</p>
<p>3) 打开spring-mvc.xml，编写如下配置：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">beans</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       <span class="attribute">xmlns:xsi</span>=<span class="value">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       <span class="attribute">xmlns:context</span>=<span class="value">"http://www.springframework.org/schema/context"</span></span><br><span class="line">       <span class="attribute">xmlns:mvc</span>=<span class="value">"http://www.springframework.org/schema/mvc"</span></span><br><span class="line">       <span class="attribute">xsi:schemaLocation</span>=<span class="value">"http://www.springframework.org/schema/beans</span><br><span class="line">       http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">       http://www.springframework.org/schema/context</span><br><span class="line">       http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">       http://www.springframework.org/schema/mvc</span><br><span class="line">       http://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">context:component-scan</span> <span class="attribute">base-package</span>=<span class="value">"com.fatesolo"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"viewResolver"</span> <span class="attribute">class</span>=<span class="value">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"prefix"</span> <span class="attribute">value</span>=<span class="value">"/WEB-INF/jsp/"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"suffix"</span> <span class="attribute">value</span>=<span class="value">".jsp"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>4) 此时发现IDEA给出了如下图提示：<br><img src="/images/4.png" alt="4"><br>点击Create Spring facet，创建成如下图样式并确定。<br><img src="/images/5.png" alt="5"></p>
<p>5) 打开spring-common.xml，编写如下配置：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">beans</span> <span class="attribute">xmlns</span>=<span class="value">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       <span class="attribute">xmlns:xsi</span>=<span class="value">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       <span class="attribute">xmlns:context</span>=<span class="value">"http://www.springframework.org/schema/context"</span></span><br><span class="line">       <span class="attribute">xmlns:tx</span>=<span class="value">"http://www.springframework.org/schema/tx"</span></span><br><span class="line">       <span class="attribute">xsi:schemaLocation</span>=<span class="value">"http://www.springframework.org/schema/beans</span><br><span class="line">       http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">       http://www.springframework.org/schema/context</span><br><span class="line">       http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">       http://www.springframework.org/schema/tx</span><br><span class="line">       http://www.springframework.org/schema/tx/spring-tx.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">context:component-scan</span> <span class="attribute">base-package</span>=<span class="value">"com.fatesolo"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"propertyConfigurer"</span> <span class="attribute">class</span>=<span class="value">"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"locations"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="title">list</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="title">value</span>&gt;</span>classpath:jdbc.properties<span class="tag">&lt;/<span class="title">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="title">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="title">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"dataSource"</span> <span class="attribute">class</span>=<span class="value">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"driverClassName"</span> <span class="attribute">value</span>=<span class="value">"$&#123;jdbc.driverClassName&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"url"</span> <span class="attribute">value</span>=<span class="value">"$&#123;jdbc.url&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"username"</span> <span class="attribute">value</span>=<span class="value">"$&#123;jdbc.username&#125;"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"password"</span> <span class="attribute">value</span>=<span class="value">"$&#123;jdbc.password&#125;"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"sqlSessionFactory"</span> <span class="attribute">class</span>=<span class="value">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"dataSource"</span> <span class="attribute">ref</span>=<span class="value">"dataSource"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"typeAliasesPackage"</span> <span class="attribute">value</span>=<span class="value">"com.fatesolo.model"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"mapperLocations"</span> <span class="attribute">value</span>=<span class="value">"classpath:mapper/*Mapper.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">class</span>=<span class="value">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"basePackage"</span> <span class="attribute">value</span>=<span class="value">"com.fatesolo.mapper"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"sqlSessionFactoryBeanName"</span> <span class="attribute">value</span>=<span class="value">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">bean</span> <span class="attribute">id</span>=<span class="value">"txManager"</span> <span class="attribute">class</span>=<span class="value">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="title">property</span> <span class="attribute">name</span>=<span class="value">"dataSource"</span> <span class="attribute">ref</span>=<span class="value">"dataSource"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="title">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">tx:annotation-driven</span> <span class="attribute">transaction-manager</span>=<span class="value">"txManager"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>6) 发现缺少相关class，再打开build.gradle，加入如下依赖：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#39;org.springframework:spring-jdbc:4.2.4.RELEASE&#39;&#10;compile &#39;org.mybatis:mybatis:3.2.0&#39;&#10;compile &#39;org.mybatis:mybatis-spring:1.2.1&#39;</span><br></pre></td></tr></table></figure></p>
<p>至此，Spring、SpringMVC、Mybatis已经配置并整合完毕。</p>
<h3 id="5-__u5B9E_u73B0_u5177_u4F53_u529F_u80FD"><a href="#5-__u5B9E_u73B0_u5177_u4F53_u529F_u80FD" class="headerlink" title="5. 实现具体功能"></a>5. 实现具体功能</h3><p>1) 这里以对用户的增删改查为例，首先在MySQL数据库中创建数据库与表，并编写对应的实体类，这里只给出实体类User的代码：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fatesolo.model;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    String url;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    String info;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUrl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUrl</span><span class="params">(String url)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.url = url;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getInfo</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> info;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInfo</span><span class="params">(String info)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.info = info;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User [id = "</span> + id + <span class="string">", name = "</span> + name + <span class="string">", url = "</span> + url + <span class="string">", age = "</span> + age + <span class="string">", info = "</span> + info + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>2) 创建对用户表的数据访问接口UserMapper<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fatesolo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fatesolo.model.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">User <span class="title">findById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>3) 在src/main/resources/mapper中创建与UserMapper.java对应的UserMapper.xml<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="doctype">&lt;!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="title">mapper</span> <span class="attribute">namespace</span>=<span class="value">"com.fatesolo.mapper.UserMapper"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">insert</span> <span class="attribute">id</span>=<span class="value">"save"</span> <span class="attribute">parameterType</span>=<span class="value">"User"</span>&gt;</span></span><br><span class="line">        insert into user(name, age, info) values(#&#123;name&#125;, #&#123;age&#125;, #&#123;info&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="title">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">update</span> <span class="attribute">id</span>=<span class="value">"update"</span> <span class="attribute">parameterType</span>=<span class="value">"User"</span>&gt;</span></span><br><span class="line">        update user set name = #&#123;name&#125;, url = #&#123;url&#125;, age = #&#123;age&#125;, info = #&#123;info&#125; where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="title">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">delete</span> <span class="attribute">id</span>=<span class="value">"delete"</span> <span class="attribute">parameterType</span>=<span class="value">"int"</span>&gt;</span></span><br><span class="line">        delete from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="title">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">select</span> <span class="attribute">id</span>=<span class="value">"findById"</span> <span class="attribute">parameterType</span>=<span class="value">"int"</span> <span class="attribute">resultType</span>=<span class="value">"User"</span>&gt;</span></span><br><span class="line">        select id, name, url, age, info from user where id = #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="title">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="title">select</span> <span class="attribute">id</span>=<span class="value">"findAll"</span> <span class="attribute">resultType</span>=<span class="value">"User"</span>&gt;</span></span><br><span class="line">        select id, name, url, age, info from user</span><br><span class="line">    <span class="tag">&lt;/<span class="title">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="title">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>4) 创建IUserService接口<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fatesolo.service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fatesolo.model.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">update</span><span class="params">(User user)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">User <span class="title">findById</span><span class="params">(<span class="keyword">int</span> id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>5) 在service中创建impl子包，并创建UserService类实现IUserService接口<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fatesolo.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fatesolo.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.fatesolo.model.User;</span><br><span class="line"><span class="keyword">import</span> com.fatesolo.service.IUserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Service;</span><br><span class="line"><span class="keyword">import</span> org.springframework.transaction.annotation.Transactional;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="annotation">@Service</span></span><br><span class="line"><span class="annotation">@Transactional</span>(rollbackFor = Exception.class)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserService</span> <span class="keyword">implements</span> <span class="title">IUserService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Resource</span></span><br><span class="line">    UserMapper mapper;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        mapper.save(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">update</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mapper.update(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mapper.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findById</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mapper.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mapper.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>6) 创建控制器类UserController<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.fatesolo.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.fatesolo.service.IUserService;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.PathVariable;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RequestMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.annotation.Resource;</span><br><span class="line"></span><br><span class="line"><span class="annotation">@RestController</span></span><br><span class="line"><span class="annotation">@RequestMapping</span>(<span class="string">"/user"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@Resource</span></span><br><span class="line">    IUserService service;</span><br><span class="line"></span><br><span class="line">    <span class="annotation">@RequestMapping</span>(value = <span class="string">"/&#123;id&#125;"</span>, method = RequestMethod.GET)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">find</span><span class="params">(@PathVariable(<span class="string">"id"</span>)</span> String id) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> service.findById(Integer.parseInt(id)).toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可以看到，这里实现了一个最简单的RESTful风格的方法。至此完成了全部的具体逻辑的实现。</p>
<h3 id="6-__u9879_u76EE_u8FD0_u884C"><a href="#6-__u9879_u76EE_u8FD0_u884C" class="headerlink" title="6. 项目运行"></a>6. 项目运行</h3><p>1) 打开build.gradle，添加最后的项目依赖：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &#39;mysql:mysql-connector-java:5.1.8&#39;&#10;compile &#39;log4j:log4j:1.2.16&#39;</span><br></pre></td></tr></table></figure></p>
<p>2) 点击Run菜单栏的Edit Configurations，点击绿色加号添加一个Tomcat Server，如图：<br><img src="/images/6.png" alt="6"></p>
<p>3) 点击右侧绿色加号，选择Artifacts，点击确定。</p>
<p>4) 在MySQL中，选择TestDB，在user表中添加一条任意数据。</p>
<p>5) 运行Tomcat，访问<a href="http://localhost:8080/user/id/，注意id应该改成你刚才添加的数据的id数字。这里以1为例，得到如图结果：" target="_blank" rel="external">http://localhost:8080/user/id/，注意id应该改成你刚才添加的数据的id数字。这里以1为例，得到如图结果：</a><br><img src="/images/7.png" alt="7"><br>至此，一个使用Gradle作为项目构建工具的SSM框架项目已经搭建整合完成。</p>
<hr>
<p>作者 [@FateSolo]<br>2015 年 12月 28日</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/28/My-Gradle-Test/" data-id="cikauocap0002hblazh8eze9q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/28/hello-world/" class="article-date">
  <time datetime="2015-12-28T03:41:58.642Z" itemprop="datePublished">2015-12-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/12/28/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick_Start"><a href="#Quick_Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create_a_new_post"><a href="#Create_a_new_post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run_server"><a href="#Run_server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate_static_files"><a href="#Generate_static_files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy_to_remote_sites"><a href="#Deploy_to_remote_sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/12/28/hello-world/" data-id="cikauocak0001hblag7gd8xqs" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/02/06/Five-Chess-Client/">网络智能五子棋博弈系统的客户端说明</a>
          </li>
        
          <li>
            <a href="/2016/02/06/Five-Chess-Server/">网络智能五子棋博弈系统的服务器端说明</a>
          </li>
        
          <li>
            <a href="/2015/12/28/My-Gradle-Test/">使用Intellij IDEA + Gradle构建SSM框架</a>
          </li>
        
          <li>
            <a href="/2015/12/28/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 FateSolo<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>